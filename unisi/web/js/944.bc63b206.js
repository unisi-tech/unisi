"use strict";(globalThis["webpackChunkuniqua"]=globalThis["webpackChunkuniqua"]||[]).push([[944],{3952:(e,t,a)=>{a.d(t,{DK:()=>E,FP:()=>p,JB:()=>f,Jk:()=>A,KG:()=>y,MP:()=>u,NP:()=>m,PP:()=>Q,Q$:()=>$,QJ:()=>S,RF:()=>q,RX:()=>v,Rl:()=>d,S4:()=>w,Yt:()=>g,Zp:()=>s,fn:()=>c,nc:()=>C,q1:()=>x,rn:()=>X,sn:()=>k,tN:()=>b});a(7781),a(6186),a(4718),a(65),a(8499);var l=a(1576),i=a(3436);let s=null,n={};var o;const r=!1;let d=r;const c=["graph","chart","block","text"],u=["tree","table","list","text","graph","chart"];const h=window.location.host,p=`${window.location.protocol}//${h}`;let m={},g={},f={};function y(e){let t=window.location.href,a=t.split("?"),l=2==a.length?a[1]:null;l&&(a=l.split("#"),2==a.length&&(l=a[0]));let i=t.startsWith("https")?"wss":"ws",n=r?`${i}://localhost:8000/ws`:`${i}://${h}/ws`;l&&(n+="?"+l),o=new WebSocket(n),o.onopen=()=>e.statusConnect=!0,o.onmessage=t=>{d&&console.log("incoming message",t.data),s.designCycle=0;let a=JSON.parse(t.data);a?e.processMessage(a):e.closeProgress(a)},o.onerror=t=>e.error(t),o.onclose=t=>{e.statusConnect=!1,d&&console.info("close code : "+t.code+" reason: "+t.reason)},s=e}function b(e){let t={block:e[0],element:e[1],event:e[2],value:e[3]};d&&console.log("sended",t),o.send(JSON.stringify(t))}let k=!0;function v(e){k=e,e||(f={})}function w(e){if(k){let t=f[e.fullname];if(t)return t.styleSize;k=!1}return null}function A(e,t,a,l="complete"){let i=[e.pdata.name,e.data.name,l,t];b(i),n[i.toString()]=a}function C(e,t,a,l,i){let s=[e,t,i,a];b(s),n[s.toString()]=l}function x(){m={},f=g,k=!0,g={}}function _(e,t,a=null){let l=null;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])){if(l=_(e[i],t,a),l)return l}else if(e[i].name==t)return a&&(e[i]=a),e[i];return null}function q(e){for(let t of e){let e=t.path,a=s.screen.blocks,l=null;e.length>1?(l=_(a,e[0],null),l&&(l=_(l.value,e[1],t.data))):l=_(a,e[0],t.data),l||s.error("Invalid path: "+name)}}function S(e){let t=`${e.element}@${e.block}`,a=g[t];a.update?a.update(e):console.error()}function X(e){let t=[e.message.block,e.message.element,e.type,e.message.value].toString();if("string"==typeof e.value)s.error(e.value);else if(n[t]){let a=n[t];delete n[t],a(e.value,e.message)}else s.error(t+" doesnt exist in queryMap!")}function W(e){let t=[];for(let a of e)a instanceof Array?t.push(a):t.push([a]);let a=t.shift();return t.reduce(((e,t)=>e.flatMap((e=>t.map((t=>e instanceof Array?[...e,t]:[e,t]))))),a)}function $(e=!1){requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{Q(document.documentElement.scrollWidth>window.innerWidth)}))}))}))}let E=(0,i.debounce)($,50);function Q(e){if(s.designCycle>=1)return;d&&console.log(`------------------recalc design ${s.designCycle}`),s.designCycle++;const t=F(e),a=R(e);for(let[e,l]of Object.entries(t)){let t=g[e],i=a[e];const[s,n]=i||[0,1];let o,r=t.geom(),d=r.el,c=t.pdata?t.pdata.name:t.name,u=m[c];for(let e of u.data.value.slice(1))if(Array.isArray(e)){if(e.find((e=>e.name==t.data.name))){let t=e[e.length-1],a=`${t.name}@${c}`;o=g[a];break}}else if(e.name==t.data.name){o=t;break}let h=s;h/=n;let p=t.only_fixed_elems?"":`width:${Math.ceil(d.clientWidth+h)}px`;"text"==t.type&&(l-=t.showname?50:6);let f=`height:${Math.floor(l+t.he)}px;${p}`;f!=t.styleSize&&(t.styleSize=f),t.has_recalc=!1}}function F(e){const t=s.screen.blocks;let a=window.innerHeight-60,i={},n=new Map,o=[];for(let e of t){const t=[];let s=e instanceof Array,r=s?W(e):[[e]],d={};for(let[e,t]of Object.entries(m)){let a=t.$el.getBoundingClientRect(),l=a.bottom;d[e]=l-a.top}for(let e of r){let t=0,a=!0;Array.isArray(e)||(e=[e]);for(let l of e)t+=d[l.name],m[l.name].only_fixed_elems||(a=!1);if(a){let t=m[e.slice(-1)[0].name];g[t.fullname]=t}o.push([t+8*e.length,e])}o.sort(((e,t)=>e[0]>t[0]?-1:e[0]==t[0]?0:1));for(let e of o){let a=e[1];(0,l.vA)(Array.isArray(a));const i=[];for(let[e,t]of Object.entries(g))if(t.expanding_height){let[l,s]=e.split("@");if(a.find((e=>e.name==s))){let e=!0;const a=t.geom();for(let[l,s]of i.entries()){let o=s.geom();e&&s!==t&&o.top==a.top&&(o.scrollHeight<a.scrollHeight&&(i[l]=t),e=!1,n.set(t.fullname,s.fullname))}e&&i.push(t)}}i.length&&t.push([e[0],i])}for(let[e,l]of t){let t=0,s=[];for(let a of l)if(a.fullname in i)e+=i[a.fullname];else{let l=a.geom(),i=l.bottom-l.top;i<100&&(e+=100-i,i=100),a.he=i,t+=a.he,s.push(a)}let n=(t+a-e)/s.length,o=0;for(let e of s){let t,a=n-e.he;if(1==s.length)t=a;else if(t=Math.floor(a),a-t){o+=a-t;let e=Math.round(o)-o;e<.001&&e>-.001&&(t+=Math.round(o),o=0)}i[e.fullname]=t}}}let r=Array.from(n.entries());r.sort(((e,t)=>e[0]in i||e[1]in i?-1:1));for(let[e,t]of r)t in i?(i[e]=i[t],g[e].he=g[t].he):(i[t]=i[e],g[t].he=g[e].he);return i}function R(e){let t=null;const a=t?[t]:s.screen.blocks;let l=window.innerWidth-20,i=[],n={};for(let e of a)if(0==i.length)if(Array.isArray(e))for(let t of e)i.push(Array.isArray(t)?t:[t]);else i=[[e]];else{let t=[];if(Array.isArray(e))for(let a of e)for(let e of i)t.push(Array.isArray(a)?e.concat(a):[...e,a]);else for(let a of i)t.push([...a,e]);i=t}const o=[];for(let e of i){let t=0;for(let a of e){let e=m[a.name].$el.getBoundingClientRect();t+=e.right-e.left+5}let a=l-t,i=[[]];for(let t of e){let e=[],a=m[t.name].hlevelements;if(a.length){for(let t of a)for(let a of i)e.push([...a,...t]);i=e}}for(let e of i)o.push([a,e])}o.sort(((e,t)=>t[1].length-e[1].length));for(let[t,a]of o){let l=new Map;for(let e=0;e<a.length;e++){let i=a[e],s=i.parent_name,o=s||i.name,r=i.geom(),d=(i.data.width?i.data.width:r.scrollWidth)-(r.right-r.left);if(d>1&&!c.includes(i.type)&&t>0&&!n[i.fullname]){let e=t>d?d:t;t-=e,n[i.fullname]=[e,1]}if(o=i.parent_name,o){let e=m[o],t=e.$el.getBoundingClientRect().right-6,a=e.free_right_delta4(i,r.right),s=t-a;a&&s>0&&(!l.has(o)||l.get(o)>s)&&l.set(o,s)}}for(let e of l.values())t+=e;let i=[];for(let l of a)if(l.expanding_width&&(e||c.includes(l.type)))if(n[l.fullname]){let[e,a]=n[l.fullname];t-=e/a}else i.push(l);let s=i.length;const o=t/s;for(let e of i)n[e.fullname]||(n[e.fullname]=[Math.floor(o),1]);for(let e of a)n[e.fullname]||(n[e.fullname]=[0,1])}return n}},944:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ft});var l=a(1758),i=a(8790);const s={key:1},n={key:0,class:"rotation-overlay flex flex-center text-center"};function o(e,t,a,o,r,d){const c=(0,l.g2)("q-item-label"),u=(0,l.g2)("element"),h=(0,l.g2)("q-tab"),p=(0,l.g2)("q-tabs"),m=(0,l.g2)("q-space"),g=(0,l.g2)("q-tooltip"),f=(0,l.g2)("q-btn"),y=(0,l.g2)("q-toolbar"),b=(0,l.g2)("q-header"),k=(0,l.g2)("zone"),v=(0,l.g2)("q-page"),w=(0,l.g2)("q-page-container"),A=(0,l.g2)("q-icon"),C=(0,l.g2)("q-card"),x=(0,l.g2)("q-layout");return(0,l.uX)(),(0,l.Wv)(x,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{elevated:"",class:(0,i.C4)({"bg-deep-purple-9":e.Dark.isActive,"bg-blue-grey-9":!e.Dark.isActive})},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"text-h5"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.screen.header?e.screen.header:""),1)])),_:1}),t[4]||(t[4]=(0,l.Lk)("div",{class:"q-pa-md"},null,-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.left_toolbar,(t=>((0,l.uX)(),(0,l.Wv)(u,{class:(0,i.C4)(["q-ma-xs",{"bg-blue-grey-9":e.Dark.isActive}]),data:t,pdata:e.tooldata},null,8,["class","data","pdata"])))),256)),t[5]||(t[5]=(0,l.Lk)("div",{class:"q-pa-md"},null,-1)),(0,l.bF)(p,{class:"bold-tabs",align:"center","inline-label":"",dense:"",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),style:{float:"center"}},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.menu,(t=>((0,l.uX)(),(0,l.CE)("div",null,[t.icon?((0,l.uX)(),(0,l.Wv)(h,{key:0,class:"justify-center text-white shadow-2","no-caps":"",name:t.name,icon:t.icon,label:t.name,onClick:a=>e.tabclick(t.name)},null,8,["name","icon","label","onClick"])):(0,l.Q3)("",!0),t.icon?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(h,{key:1,class:"justify-center text-white shadow-2","no-caps":"",name:t.name,label:t.name,onClick:a=>e.tabclick(t.name)},null,8,["name","label","onClick"]))])))),256))])),_:1},8,["modelValue"]),e.statusConnect?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:0})),e.statusConnect?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",s,[t[2]||(t[2]=(0,l.Lk)("text",{class:"text-subtitle2 text-white bg-red"},"Not connected",-1)),(0,l.bF)(f,{"no-caps":"",label:"Reconnect",icon:"autorenew",onClick:e.reconnect},{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"text-body2"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("Try to reconnect")]))),_:1})])),_:1},8,["onClick"])])),(0,l.bF)(m),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.right_toolbar,(t=>((0,l.uX)(),(0,l.Wv)(u,{class:(0,i.C4)(["q-ma-xs",{"bg-blue-grey-9":e.Dark.isActive}]),data:t,pdata:e.tooldata},null,8,["class","data","pdata"])))),256)),e.voice_button?((0,l.uX)(),(0,l.Wv)(f,{key:2,class:(0,i.C4)(["q-ma-xs",{"bg-blue-grey-9":e.Dark.isActive}]),dense:"",round:"",icon:e.isListening?"record_voice_over":"voice_over_off",onClick:e.toggleListening},{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"text-body2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.isListening?"Stop Voice Mate":"Start Voice Mate"),1)])),_:1})])),_:1},8,["class","icon","onClick"])):(0,l.Q3)("",!0),(0,l.bF)(f,{class:(0,i.C4)(["q-ma-xs",{"bg-blue-grey-9":e.Dark.isActive}]),dense:"",round:"",icon:e.Dark.isActive?"light_mode":"dark_mode",onClick:e.switchTheme},{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"text-body2"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("Dark/Light mode")]))),_:1})])),_:1},8,["class","icon","onClick"])])),_:1})])),_:1},8,["class"]),(0,l.bF)(w,{class:"content"},{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:"flex justify-center centers"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{data:e.screen.blocks,ref:"page"},null,8,["data"])])),_:1})])),_:1}),e.showRotationOverlay?((0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(C,{class:"q-pa-md"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{class:"q-mb-md",name:"screen_rotation",size:"xl"}),t[6]||(t[6]=(0,l.Lk)("h4",null,"Please rotate your device to landscape mode for the best experience.",-1))])),_:1})])):(0,l.Q3)("",!0)])),_:1})}a(7781),a(4739),a(8499);function r(e,t,a,s,n,o){const r=(0,l.g2)("q-icon"),d=(0,l.g2)("q-item-section"),c=(0,l.g2)("q-item-label"),u=(0,l.g2)("q-item");return(0,l.uX)(),(0,l.Wv)(u,{clickable:"",tag:"a",target:"_blank",onClick:e.send},{default:(0,l.k6)((()=>[(0,l.bF)(d,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(r,{name:e.icon},null,8,["name"])])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.name),1)])),_:1})])),_:1})])),_:1},8,["onClick"])}var d=a(3952);const c=(0,l.pM)({name:"menubar",methods:{send(){(0,d.tN)(["root",null,"changed",this.name])}},props:{name:{type:String,required:!0},icon:{type:String,default:""}}});var u=a(2807),h=a(124),p=a(5173),m=a(492),g=a(3796),f=a(8582),y=a.n(f);const b=(0,u.A)(c,[["render",r]]),k=b;y()(c,"components",{QItem:h.A,QItemSection:p.A,QIcon:m.A,QItemLabel:g.A});const v={key:0,class:"row q-col-gutter-xs q-py-xs"},w={class:"q-col-gutter-xs"},A={key:0,class:"column q-col-gutter-xs"};function C(e,t,a,i,s,n){const o=(0,l.g2)("zone",!0),r=(0,l.g2)("block");return e.data instanceof Array?((0,l.uX)(),(0,l.CE)("div",v,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.data,(e=>((0,l.uX)(),(0,l.CE)("div",w,[e instanceof Array?((0,l.uX)(),(0,l.CE)("div",A,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.Wv)(o,{class:"q-col-gutter-xs q-py-xs",data:e},null,8,["data"])))),256))])):((0,l.uX)(),(0,l.Wv)(r,{key:1,data:e},null,8,["data"]))])))),256))])):((0,l.uX)(),(0,l.Wv)(r,{key:1,data:e.data},null,8,["data"]))}const x={class:"row no-wrap"},_={key:0,class:"frame"},q=["data","pdata"],S={key:0,class:"row"},X=["data","pdata"],W={key:0,class:"row no-wrap"};function $(e,t,a,s,n,o){const r=(0,l.g2)("element"),d=(0,l.g2)("q-icon"),c=(0,l.g2)("q-space"),u=(0,l.g2)("q-tooltip"),h=(0,l.g2)("q-btn"),p=(0,l.g2)("q-scroll-area"),m=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(m,{class:"my-card q-ma-xs container",style:(0,i.Tr)(e.only_fixed_elems?e.styleSize:null),key:e.name},{default:(0,l.k6)((()=>[(0,l.Lk)("div",x,[e.data.active?((0,l.uX)(),(0,l.CE)("div",_)):(0,l.Q3)("",!0),e.data.logo?((0,l.uX)(),(0,l.Wv)(r,{key:1,class:"q-ma-sm",data:e.data.logo,pdata:e.data},null,8,["data","pdata"])):e.data.icon?((0,l.uX)(),(0,l.Wv)(d,{key:2,class:"q-mt-sm q-ml-sm",style:{"padding-top":"6px"},size:"sm",name:e.data.icon},null,8,["name"])):(0,l.Q3)("",!0),"_"!=e.name[0]?((0,l.uX)(),(0,l.CE)("p",{key:3,class:(0,i.C4)(["q-ma-sm",{"text-info":e.Dark.isActive,"text-cyan-10":!e.Dark.isActive}]),style:{"padding-top":"6px","font-size":"18px"}},(0,i.v_)(e.name),3)):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tops,(t=>((0,l.uX)(),(0,l.Wv)(r,{class:"q-ma-sm",data:t,pdata:e.data},null,8,["data","pdata"])))),256)),(0,l.bF)(c),"close"in e.data?((0,l.uX)(),(0,l.Wv)(h,{key:4,class:(0,i.C4)(["q-ma-xs",{"bg-blue-grey-9":e.Dark.isActive}]),rounded:"",dense:"",flat:"",size:"14px",icon:"cancel",onClick:e.close},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"text-body2"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)("Close")]))),_:1})])),_:1},8,["class","onClick"])):(0,l.Q3)("",!0)]),e.data.scroll?((0,l.uX)(),(0,l.Wv)(p,{key:0,style:(0,i.Tr)(e.styleSize),"thumb-style":e.thumbStyle,"bar-style":e.barStyle},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.data.value.slice(1),(t=>((0,l.uX)(),(0,l.CE)("div",{class:"column",data:t,pdata:e.data},[t instanceof Array?((0,l.uX)(),(0,l.CE)("div",S,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t,(t=>((0,l.uX)(),(0,l.Wv)(r,{class:"q-ma-xs",data:t,pdata:e.data},null,8,["data","pdata"])))),256))])):((0,l.uX)(),(0,l.Wv)(r,{key:1,class:"q-ma-xs",data:t,pdata:e.data},null,8,["data","pdata"]))],8,q)))),256))])),_:1},8,["style","thumb-style","bar-style"])):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.data.value.slice(1),(t=>((0,l.uX)(),(0,l.CE)("div",{class:"column",data:t,pdata:e.data},[t instanceof Array?((0,l.uX)(),(0,l.CE)("div",W,[t[0]&&t[0].space?((0,l.uX)(),(0,l.Wv)(c,{key:0})):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t,(t=>((0,l.uX)(),(0,l.Wv)(r,{class:"q-ma-xs",data:t,pdata:e.data},null,8,["data","pdata"])))),256))])):((0,l.uX)(),(0,l.Wv)(r,{key:1,class:"q-ma-xs",data:t,pdata:e.data},null,8,["data","pdata"]))],8,X)))),256))])),_:1},8,["style"])}var E=a(9104);const Q={class:"container"},F={key:5,class:"{'bg-blue-grey-9': Dark.isActive}"},R=["width","height"],D=["src"],L={class:"camera-button"},M={key:0},I={key:1},K={class:"camera-loading"},T={ref:"camera",width:450,height:337.5,autoplay:""},V={id:"photoTaken",ref:"canvas",width:450,height:337.5},z={key:1,class:"camera-shoot"},O={key:2,class:"camera-download"},P={key:21},U={key:24,class:"frame"};function j(e,t,a,s,n,o){const r=(0,l.g2)("q-icon"),d=(0,l.g2)("q-img"),c=(0,l.g2)("q-select"),u=(0,l.g2)("q-checkbox"),h=(0,l.g2)("q-toggle"),p=(0,l.g2)("q-badge"),m=(0,l.g2)("q-slider"),g=(0,l.g2)("q-btn"),f=(0,l.g2)("q-btn-toggle"),y=(0,l.g2)("utable"),b=(0,l.g2)("asyncLinechart"),k=(0,l.g2)("q-input"),v=(0,l.g2)("q-tree"),w=(0,l.g2)("q-scroll-area"),A=(0,l.g2)("q-separator"),C=(0,l.g2)("q-uploader"),x=(0,l.g2)("asyncSgraph"),_=(0,l.g2)("htmlcomponent"),q=(0,l.g2)("q-tooltip"),S=(0,l.g2)("q-spinner-ios");return(0,l.uX)(),(0,l.CE)("div",Q,["image"==e.type?((0,l.uX)(),(0,l.Wv)(d,{key:e.key,src:e.data.url,"spinner-color":"blue",onClick:(0,E.D$)(e.switchValue,["stop"]),fit:"cover",style:(0,i.Tr)(e.elemSize)},{default:(0,l.k6)((()=>[e.data.label?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"absolute-bottom-right text-subtitle2 custom-caption",onClick:t[0]||(t[0]=(0,E.D$)(((...t)=>e.lens&&e.lens(...t)),["stop"]))},(0,i.v_)(e.data.label),1)):(0,l.Q3)("",!0),e.value?((0,l.uX)(),(0,l.Wv)(r,{key:1,class:"absolute all-pointer-events",size:"32px",name:"check_circle",color:"light-blue-2",style:{"font-size":"2em",top:"8px",left:"8px"}})):(0,l.Q3)("",!0)])),_:1},8,["src","onClick","style"])):"select"==e.type?((0,l.uX)(),(0,l.Wv)(c,{key:e.key,ref:"inputRef","transition-show":"flip-up",readonly:0==e.data.edit,"transition-hide":"flip-down",dense:"",modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),options:e.data.options},(0,l.eX)({_:2},[e.showname?{name:"prepend",fn:(0,l.k6)((()=>[(0,l.Lk)("p",{class:(0,i.C4)(["text-subtitle1 q-ma-sm",{white:e.Dark.isActive,black:!e.Dark.isActive}])},(0,i.v_)(e.name),3)])),key:"0"}:void 0]),1032,["readonly","modelValue","options"])):"check"==e.type?((0,l.uX)(),(0,l.Wv)(u,{key:e.key,ref:"inputRef","left-label":"",disable:0==e.data.edit,modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.value=t),label:e.nameLabel,"checked-icon":"task_alt","unchecked-icon":"highlight_off"},null,8,["disable","modelValue","label"])):"switch"==e.type?((0,l.uX)(),(0,l.Wv)(h,{key:e.key,ref:"inputRef",modelValue:e.value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.value=t),disable:0==e.data.edit,color:"primary",label:e.nameLabel,"left-label":""},null,8,["modelValue","disable","label"])):"range"==e.type?((0,l.uX)(),(0,l.CE)("div",{key:e.key},[(0,l.bF)(p,{outline:"",dense:"",color:e.Dark.isActive?"blue-3":"blue-9"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.name)+": "+(0,i.v_)(e.value)+" ("+(0,i.v_)(e.data.options[0])+" to "+(0,i.v_)(e.data.options[1])+", Δ "+(0,i.v_)(e.data.options[2])+")",1)])),_:1},8,["color"]),(0,l.bF)(m,{class:"q-pl-sm",dense:"",modelValue:e.value,"onUpdate:modelValue":t[4]||(t[4]=t=>e.value=t),min:e.data.options[0],max:e.data.options[1],step:e.data.options[2],color:"primary"},null,8,["modelValue","min","max","step"])])):"radio"==e.type?((0,l.uX)(),(0,l.CE)("div",F,[e.showname?((0,l.uX)(),(0,l.Wv)(g,{key:0,ripple:!1,color:"indigo-10",disable:"",label:e.name,"no-caps":""},null,8,["label"])):(0,l.Q3)("",!0),(0,l.bF)(f,{ref:"inputRef",modelValue:e.value,"onUpdate:modelValue":t[5]||(t[5]=t=>e.value=t),readonly:0==e.data.edit,class:(0,i.C4)({"bg-blue-grey-9":e.Dark.isActive}),"no-caps":"",options:e.data.options.map((e=>({label:e,value:e})))},null,8,["modelValue","readonly","class","options"])])):"table"==e.type?((0,l.uX)(),(0,l.Wv)(y,{key:e.key,data:e.data,pdata:e.pdata,styleSize:e.styleSize},null,8,["data","pdata","styleSize"])):"chart"==e.type?((0,l.uX)(),(0,l.Wv)(b,{key:e.key,data:e.data,pdata:e.pdata,styleSize:e.styleSize},null,8,["data","pdata","styleSize"])):"string"==e.type&&e.data.hasOwnProperty("complete")?((0,l.uX)(),(0,l.Wv)(c,{key:e.key,ref:"inputRef",dense:"",readonly:0==e.data.edit,modelValue:e.value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.value=t),"use-input":"","hide-selected":"",borderless:"",outlined:"","hide-bottom-space":"","fill-input":"","input-debounce":"0",options:e.options,onFilter:e.complete,label:e.name,onKeydown:(0,E.jR)(e.pressedEnter,["enter"])},null,8,["readonly","modelValue","options","onFilter","label","onKeydown"])):"string"==e.type&&0==e.data.edit?((0,l.uX)(),(0,l.CE)("div",{key:e.key},[(0,l.Lk)("p",{class:(0,i.C4)(["q-ma-sm",{white:e.Dark.isActive,black:!e.Dark.isActive}])},(0,i.v_)(e.value),3)])):"string"==e.type?((0,l.uX)(),(0,l.Wv)(k,{key:e.key,modelValue:e.value,"onUpdate:modelValue":t[7]||(t[7]=t=>e.value=t),label:e.name2show,ref:"inputRef",autogrow:e.data.autogrow,dense:"",onKeydown:(0,E.jR)(e.pressedEnter,["enter"]),readonly:0==e.data.edit},null,8,["modelValue","label","autogrow","onKeydown","readonly"])):"number"==e.type?((0,l.uX)(),(0,l.Wv)(k,{key:e.key,modelValue:e.value,"onUpdate:modelValue":t[8]||(t[8]=t=>e.value=t),modelModifiers:{number:!0},label:e.name2show,ref:"inputRef",dense:"",onKeydown:(0,E.jR)(e.pressedEnter,["enter"]),type:"number",readonly:0==e.data.edit},null,8,["modelValue","label","onKeydown","readonly"])):"tree"==e.type||"list"==e.type?((0,l.uX)(),(0,l.CE)("div",{key:e.key},[e.showname?((0,l.uX)(),(0,l.CE)("p",{key:0,class:(0,i.C4)(["text-subtitle1 q-ma-sm text-grey-7",{"text-white":e.Dark.isActive,"text-indigo-10":!e.Dark.isActive}])},(0,i.v_)(e.name),3)):(0,l.Q3)("",!0),(0,l.bF)(w,{style:(0,i.Tr)(e.styleSize),"thumb-style":e.thumbStyle,"bar-style":e.barStyle,ref:"scroller"},{default:(0,l.k6)((()=>[(0,l.bF)(v,{nodes:e.treeNodes,"selected-color":e.Dark.isActive?"blue-3":"blue-9",dense:e.data.dense,ref:"tree",selected:e.value,"onUpdate:selected":t[9]||(t[9]=t=>e.value=t),expanded:e.expandedKeys,"onUpdate:expanded":t[10]||(t[10]=t=>e.expandedKeys=t),"node-key":"label","default-expand-all":""},null,8,["nodes","selected-color","dense","selected","expanded"])])),_:1},8,["style","thumb-style","bar-style"])])):"text"==e.type?((0,l.uX)(),(0,l.CE)("div",{key:e.key},[e.showname?((0,l.uX)(),(0,l.CE)("p",{key:0,class:(0,i.C4)(["text-subtitle1 q-ma-sm",{"text-white":e.Dark.isActive,"text-indigo-10":!e.Dark.isActive}])},(0,i.v_)(e.name),3)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("textarea",{class:(0,i.C4)(["textarea",{"bg-grey-10":e.Dark.isActive,"text-white":e.Dark.isActive}]),"onUpdate:modelValue":t[11]||(t[11]=t=>e.value=t),ref:"inputRef",filled:"",type:"textarea",style:(0,i.Tr)(e.elemSize),onKeydown:t[12]||(t[12]=(0,E.jR)(((...t)=>e.pressedEnter&&e.pressedEnter(...t)),["enter"]))},null,38),[[E.Jo,e.value]])])):"line"==e.type?((0,l.uX)(),(0,l.Wv)(A,{key:14,color:"green"})):"video"==e.type?((0,l.uX)(),(0,l.CE)("video",{key:e.key,controls:"",width:e.data.width,height:e.data.height},[(0,l.Lk)("source",{src:e.data.url,type:"video/mp4"},null,8,D)],8,R)):"uploader"==e.type?((0,l.uX)(),(0,l.Wv)(C,{key:e.key,label:e.name,"auto-upload":"",thumbnails:"",url:e.host_path,onUploaded:e.updateDom,onAdded:e.onAdded,style:(0,i.Tr)(e.elemSize),ref:"uploaderRef",flat:"",class:(0,i.C4)({"bg-grey-10":e.Dark.isActive}),color:e.Dark.isActive?"purple-10":"blue"},null,8,["label","url","onUploaded","onAdded","style","class","color"])):"image_uploader"==e.type?((0,l.uX)(),(0,l.Wv)(C,{key:e.key,label:e.name,"auto-upload":"",thumbnails:"",url:e.host_path,onUploaded:e.updateDom,onAdded:e.onAdded,ref:"uploaderRef",flat:"",class:(0,i.C4)({"bg-grey-10":e.Dark.isActive}),color:e.Dark.isActive?"purple-10":"blue"},null,8,["label","url","onUploaded","onAdded","class","color"])):"graph"==e.type?((0,l.uX)(),(0,l.Wv)(x,{key:e.key,data:e.data,pdata:e.pdata,styleSize:e.elemSize},null,8,["data","pdata","styleSize"])):"camera"==e.type?((0,l.uX)(),(0,l.CE)("div",{class:"web-camera-container",key:e.key},[(0,l.Lk)("div",L,[(0,l.Lk)("button",{class:(0,i.C4)(["button is-rounded",{"is-primary":!e.isCameraOpen,"is-danger":e.isCameraOpen}]),type:"button",onClick:t[13]||(t[13]=(...t)=>e.toggleCamera&&e.toggleCamera(...t))},[e.isCameraOpen?((0,l.uX)(),(0,l.CE)("span",I,"Close Camera")):((0,l.uX)(),(0,l.CE)("span",M,"Open Camera"))],2)]),(0,l.bo)((0,l.Lk)("div",K,t[15]||(t[15]=[(0,l.Lk)("ul",{class:"loader-circle"},[(0,l.Lk)("li"),(0,l.Lk)("li"),(0,l.Lk)("li")],-1)]),512),[[E.aG,e.isCameraOpen&&e.isLoading]]),e.isCameraOpen?(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,i.C4)(["camera-box",{flash:e.isShotPhoto}])},[(0,l.Lk)("div",{class:(0,i.C4)(["camera-shutter",{flash:e.isShotPhoto}])},null,2),(0,l.bo)((0,l.Lk)("video",T,null,512),[[E.aG,!e.isPhotoTaken]]),(0,l.bo)((0,l.Lk)("canvas",V,null,512),[[E.aG,e.isPhotoTaken]])],2)),[[E.aG,!e.isLoading]]):(0,l.Q3)("",!0),e.isCameraOpen&&!e.isLoading?((0,l.uX)(),(0,l.CE)("div",z,[(0,l.Lk)("button",{class:"button",type:"button",onClick:t[14]||(t[14]=(...t)=>e.takePhoto&&e.takePhoto(...t))},t[16]||(t[16]=[(0,l.Lk)("img",{src:"https://img.icons8.com/material-outlined/50/000000/camera--v2.png"},null,-1)]))])):(0,l.Q3)("",!0),e.isPhotoTaken&&e.isCameraOpen?((0,l.uX)(),(0,l.CE)("div",O,[(0,l.bF)(g,{onClick:e.downloadImage,label:"Send"},null,8,["onClick"])])):(0,l.Q3)("",!0)])):"html"==e.type?((0,l.uX)(),(0,l.Wv)(_,{key:e.key,data:e.data,pdata:e.pdata,style:(0,i.Tr)(e.elemSize)},null,8,["data","pdata","style"])):""!=e.showname?((0,l.uX)(),(0,l.CE)("div",P,[((0,l.uX)(),(0,l.Wv)(g,{key:e.key,ref:"inputRef","no-caps":"",disable:0==e.data.edit,class:(0,i.C4)({"bg-blue-grey-8":e.Dark.isActive}),style:(0,i.Tr)(e.button_style),color:e.data.color,label:e.name,icon:e.data.icon,onClick:e.sendValue},{default:(0,l.k6)((()=>[e.data.tooltip?((0,l.uX)(),(0,l.Wv)(q,{key:0,class:"text-body2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.data.tooltip),1)])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["disable","class","style","color","label","icon","onClick"]))])):e.data.spinner?((0,l.uX)(),(0,l.Wv)(g,{key:e.key,ref:"inputRef","no-caps":"",dense:"",disable:0==e.data.edit,round:"",class:(0,i.C4)({"bg-blue-grey-8":e.Dark.isActive}),color:e.data.color,onClick:e.sendValue},{default:(0,l.k6)((()=>[(0,l.bF)(S,{color:e.Dark.isActive?"white":"black"},null,8,["color"]),e.data.tooltip?((0,l.uX)(),(0,l.Wv)(q,{key:0,class:"text-body2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.data.tooltip),1)])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["disable","class","color","onClick"])):((0,l.uX)(),(0,l.Wv)(g,{key:e.key,ref:"inputRef","no-caps":"",disable:0==e.data.edit,dense:"",round:"",class:(0,i.C4)({"bg-blue-grey-8":e.Dark.isActive}),color:e.data.color,icon:e.data.icon,onClick:e.sendValue},{default:(0,l.k6)((()=>[e.data.tooltip?((0,l.uX)(),(0,l.Wv)(q,{key:0,class:"text-body2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.data.tooltip),1)])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["disable","class","color","icon","onClick"])),e.data.active?((0,l.uX)(),(0,l.CE)("div",U)):(0,l.Q3)("",!0)])}a(9526);var B=a(8734);const N={class:"text-h6"},H={key:0},Y={class:"row"},J=["onClick"],Z=["onClick"];function G(e,t,a,s,n,o){const r=(0,l.g2)("q-tooltip"),d=(0,l.g2)("q-btn"),c=(0,l.g2)("q-icon"),u=(0,l.g2)("q-input"),h=(0,l.g2)("q-th"),p=(0,l.g2)("q-tr"),m=(0,l.g2)("q-checkbox"),g=(0,l.g2)("q-select"),f=(0,l.g2)("q-td"),y=(0,l.g2)("q-table");return(0,l.uX)(),(0,l.Wv)(y,{"virtual-scroll":"",dense:e.data.dense,style:(0,i.Tr)(e.styleSize?e.styleSize:e.currentStyle()),flat:"",filter:e.data.id?"":e.search,ref:"table",virtualScrollSliceSize:"100",pagination:e.pagination,"virtual-scroll-item-size":"100",onVirtualScroll:e.onScroll,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":100,"row-key":"iiid",title:e.name,rows:e.rows,columns:e.columns,selection:e.singleMode?"single":"multiple",selected:e.selected,"onUpdate:selected":t[2]||(t[2]=t=>e.selected=t)},{"top-left":(0,l.k6)((()=>["link"in e.data?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",outline:"",color:"primary",icon:e.data.filter?"filter_alt":"filter_alt_off","no-caps":"",onClick:e.switchFilter},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.data.filter?"Turn off filter":"Turn on filter"),1)])),_:1})])),_:1},8,["class","icon","onClick"])):(0,l.Q3)("",!0),(0,l.Lk)("div",N,(0,i.v_)(e.name),1)])),"top-right":(0,l.k6)((()=>[!1!==e.data.tools?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.Lk)("div",Y,[(0,l.bF)(u,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t),label:"Search",dense:"",ref:"searchField"},(0,l.eX)({append:(0,l.k6)((()=>[""!=e.search?((0,l.uX)(),(0,l.Wv)(c,{key:0,class:"cursor-pointer",name:"close",size:"xs",onClick:t[0]||(t[0]=t=>{e.search="",e.$refs.searchField.focus()})},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("Reset search ")]))),_:1})])),_:1})):(0,l.Q3)("",!0)])),_:2},[""==e.search?{name:"prepend",fn:(0,l.k6)((()=>[(0,l.bF)(c,{name:"search",size:"xs"})])),key:"0"}:void 0]),1032,["modelValue"]),(0,l.Lk)("div",null,[(0,l.bF)(d,{class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:"select_all","no-caps":"",onClick:e.showSelected},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("Show selected ")]))),_:1})])),_:1},8,["class","onClick"]),(0,l.bF)(d,{class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:"deselect","no-caps":"",onClick:e.deselectAll},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("Deselect all")]))),_:1})])),_:1},8,["class","onClick"]),!1!==e.data.multimode?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:e.singleMode?"looks_one":"grain","no-caps":"",onClick:e.switchMode},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("Multi-single select mode ")]))),_:1})])),_:1},8,["class","icon","onClick"])):(0,l.Q3)("",!0),e.editable?((0,l.uX)(),(0,l.Wv)(d,{key:1,class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:e.data.editing?"cancel":"edit","no-caps":"",onClick:e.switchEdit},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("Edit mode")]))),_:1})])),_:1},8,["class","icon","onClick"])):(0,l.Q3)("",!0),e.editable&&"append"in e.data?((0,l.uX)(),(0,l.Wv)(d,{key:2,class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:"add","no-caps":"",onClick:e.append},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.data.filter?"Add a new entity+link":"Add a new row"),1)])),_:1})])),_:1},8,["class","onClick"])):(0,l.Q3)("",!0),"delete"in e.data?((0,l.uX)(),(0,l.Wv)(d,{key:3,class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:"delete_forever","no-caps":"",onClick:e.delSelected},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[8]||(t[8]=[(0,l.eW)("Delete selected ")]))),_:1})])),_:1},8,["class","onClick"])):(0,l.Q3)("",!0),"view"in e.data?((0,l.uX)(),(0,l.Wv)(d,{key:4,class:(0,i.C4)(["q-ml-xs",{"bg-blue-grey-8":e.Dark.isActive}]),dense:"",rounded:"",icon:"insights","no-caps":"",onClick:e.chart},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"text-body2"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("Draw the chart")]))),_:1})])),_:1},8,["class","onClick"])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)])),header:(0,l.k6)((t=>[(0,l.bF)(p,{props:t},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.cols,(a=>((0,l.uX)(),(0,l.Wv)(h,{class:(0,i.C4)(["text-italic",{"text-grey-9":!e.Dark.isActive,"text-teal-3":e.Dark.isActive}]),key:a.name,props:t},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(a.label),1)])),_:2},1032,["class","props"])))),128))])),_:2},1032,["props"])])),body:(0,l.k6)((t=>[(0,l.bF)(p,{props:t,onClick:e=>t.selected=!t.selected},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.columns,((a,s)=>((0,l.uX)(),(0,l.Wv)(f,{key:a.name,props:t},{default:(0,l.k6)((()=>["boolean"==typeof t.row[a.name]?((0,l.uX)(),(0,l.Wv)(m,{key:0,modelValue:t.row[a.name],"onUpdate:modelValue":[e=>t.row[a.name]=e,l=>e.change_switcher(t.row,a.name,s)],dense:"",disable:!e.data.editing},null,8,["modelValue","onUpdate:modelValue","disable"])):e.data.editing&&"complete"in e.data&&s==e.cedit&&e.redit==t.row.iiid?((0,l.uX)(),(0,l.Wv)(g,{key:1,dense:"","model-value":t.row[a.name],"use-input":"","hide-selected":"","fill-input":"",autofocus:"",outlined:"",borderless:"",onInputValue:e.change,"hide-dropdown-icon":"","input-debounce":"0",options:e.options,onKeydown:e.keyInput,onFilter:e.complete},null,8,["model-value","onInputValue","options","onKeydown","onFilter"])):e.data.editing&&s==e.cedit&&e.redit==t.row.iiid?((0,l.uX)(),(0,l.Wv)(u,{key:2,modelValue:t.row[a.name],"onUpdate:modelValue":[e=>t.row[a.name]=e,e.change],dense:"",onKeydown:e.keyInput,autofocus:""},null,8,["modelValue","onUpdate:modelValue","onKeydown"])):void 0==t.row[a.name]?((0,l.uX)(),(0,l.CE)("div",{key:3,onClick:a=>e.select(t.row,s)},"-- ",8,J)):((0,l.uX)(),(0,l.CE)("div",{key:4,onClick:a=>e.select(t.row,s)},(0,i.v_)(t.row[a.name]),9,Z))])),_:2},1032,["props"])))),128))])),_:2},1032,["props","onClick"])])),_:1},8,["dense","style","filter","pagination","onVirtualScroll","title","rows","columns","selection","selected"])}a(6186);var ee=a(411);function te(e,t){return e.length===t.length&&e.every(((e,a)=>t[a]&&e.iiid==t[a].iiid))}let ae="✘";function le(e,t){let a=[];const l=e.headers,i=l.length,s=t.length;for(var n=0;n<s;n++){const s={},r=t[n];for(var o=0;o<i;o++)null!=r[o]&&void 0!=r[o]&&(s[l[o]]=r[o]);let d=r.length;s.iiid=i<d||e.id?r[d-1]:n,a.push(s)}return a}function ie(e,t){let a=[],{limit:l,length:i,data:s}=t.rows;i&&a.splice(0,0,...le(t,s)),a.length=i,a=(0,B.Kh)(a);let n=[];function o(l,i){switch(l.update){case"update":a[l.index]=le(t,[l.data])[0];break;case"updates":if(l.data){let e=l.data.length;a.splice(l.index,e,...le(t,l.data))}if("length"in l&&(a.length=l.length),i){let a=n.indexOf(i.value);-1!=a&&n.splice(a,1),n.length&&(0,d.nc)(e,t.name,n[n.length-1],o,"get")}break;case"delete":this.length--,a.splice(l.index,1);break;case"add":a[this.length]=le(t,[l.data])[0],this.length++;break;case"adds":a.splice(l.index,0,...le(t,l.data)),this.length+=l.data.length}}function r(a){-1==n.indexOf(a)&&(n.length>5&&n.splice(0,1),n.push(a),1==n.length&&(0,d.nc)(e,t.name,a,o,"get"))}return t.update=o,a.add2quered=r,a}const se=(0,l.pM)({name:"utable",setup(e){const{data:t,pdata:a}=(0,B.QW)(e),i=(0,B.KR)(null);let s,n=t.value;s=n.id?(0,B.KR)(ie(a.value.name,n)):(0,B.KR)(le(n,n.rows));let o=()=>{let e=t.value,a=null===e.value||0==s.value.length?[]:Array.isArray(e.value)?s.value.filter((t=>e.value.includes(t.iiid))):s.value.filter((t=>e.value==t.iiid));return a},r=o(),c=(0,B.KR)(r),u=(0,B.KR)(r),h=(0,B.KR)(!Array.isArray(t.value.value)),p=(e,l)=>{(0,d.tN)([a.value.name,t.value.name,e,l])},m=(0,l.EW)((()=>t.value.value));return(0,l.wB)(s,((e,t)=>{u.value=o(),c.value=u.value})),(0,l.wB)(t,((e,l)=>{d.Rl&&console.log("data update",l.name),n.id?s.value=ie(a.value.name,e):s.value=le(e,e.rows),u.value=o(),c.value=u.value,h.value=!Array.isArray(t.value.value),i.value.scrollTo(0)})),{rows:s,selected:u,singleMode:h,sendMessage:p,datavalue:m,updated:c,table:i,onScroll(e){let t=n.rows.limit,a=(e.from/t|0)*t,l=(e.to/t|0)*t;for(let e=a;e<=l;e+=t)s.value[e]||s.value.add2quered(e)}}},data(){return{Dark:ee.A,search:"",options:[],prevSelectedId:void 0,cedit:null,pagination:{rowsPerPage:0}}},methods:{switchFilter(){let e=this.data;e.filter=!e.filter,this.sendMessage("filter",e.filter)},currentStyle(){let e=this.data.tablerect;if(e){let t=e.width,a=e.height;return`width: ${t}px; height: ${a}px`}return null},select(e,t){if(this.data.editing){let a=this.headers[t];"ID"!=a&&"ⓇID"!=a&&(this.cedit=t,d.Rl&&console.log("selected",e.iiid,this.cedit))}},change_switcher(e,t,a){if(this.data.editing){let a=this.data.headers.indexOf(t),l=this.rows.findIndex((t=>t?.iiid==e.iiid));this.sendMessage("modify",{value:e[t],id:e.iiid,delta:l,cell:a})}},change(e){let t=this.headers[this.cedit],a=this.data.headers.indexOf(t);if(d.Rl&&console.log("changed",t,e),this.data.editing&&this.selected.length){const l=this.selected[0];l[t]=e;this.rows;let i=this.rows.findIndex((e=>e?.iiid==l.iiid));if(-1==i)return void console.log("cannot find a row!");this.sendMessage("modify",{value:e,delta:i,id:l.iiid,cell:a})}},keyInput(e){if("Control"==e.key)return;let t=!1;switch(e.key){case"Enter":"update"in this.data&&this.sendMessage("update",[this.rows[this.redit][this.headers[this.cedit]],[this.redit,this.cedit]]),t=!0;case"ArrowRight":if(e.ctrlKey||t)for(let e=this.cedit+1;e<this.headers.length;){let t=this.headers[e],a=this.selected[0][t],l=typeof a;if("boolean"!=l&&"ⓇID"!=t&&"ID"!=t){this.cedit=e;break}}break;case"Escape":this.switchEdit();break;case"ArrowLeft":if(e.ctrlKey)for(let e=this.cedit-1;e>=0;e--){let t=this.headers[e],a=typeof this.selected[0][t];if("boolean"!=a&&"ⓇID"!=t&&"ID"!=t){this.cedit=e;break}}break;case"ArrowUp":if(e.ctrlKey&&this.redit>0){let e=this.redit-1,t=this.data,a=typeof t.rows[e][this.cedit];"string"!=a&&"number"!=a||(t.value=e),this.selected=[this.rows[e]]}break;case"ArrowDown":if(e.ctrlKey&&this.redit+1<this.rows.length){let e=this.redit+1,t=this.data,a=typeof t.rows[e][this.cedit];"string"!=a&&"number"!=a||(t.value=e),this.selected=[this.rows[e]]}break}},complete(e,t,a){(0,d.Jk)(this,[e,[this.redit,this.cedit]],(e=>t((()=>{this.options=e}))))},append(){let e=this.rows,t=e.length,a=this;"append"in this.data&&(0,d.Jk)(this,this.search,(function(l){if(!Array.isArray(l))return d.Zp.error(l);d.Rl&&console.log("added row",l),a.search="",l=le(a.data,[l])[0],l.iiid=Math.random(),e.push(l),setTimeout((()=>{let e=a.rows;a.selected=[e[t]],a.showSelected(),a.data.editing||a.switchEdit(),a.select(e[t],0)}),100)}),"append")},showSelected(){if(this.selected.length){let e=this.$refs.table,t=this.rows,a=this.selected[0];if(void 0!=this.prevSelectedId){let e=this.selected.findIndex((e=>e?.iiid==this.prevSelectedId));-1!=e&&(++e>=this.selected.length&&(e=0),a=this.selected[e])}let i=a.iiid;this.prevSelectedId=i;let s=t.findIndex((e=>e?.iiid==i));e.scrollTo(s),(0,l.dY)((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.scrollTo(s)}))}))}))}))}))}))}))}},deselectAll(){this.selected=[],this.sendMessage("changed",this.value)},chart(){let e=this.data;e.type="chart",e.tablerect=this.$refs.table.$el.getBoundingClientRect(),d.Yt[this.fullname].styleSize=this.currentStyle()},switchMode(){this.singleMode=!this.singleMode,this.singleMode&&this.selected.length>1&&this.selected.splice(1)},switchEdit(){let e=this.data;e.editing=!e.editing,this.sendMessage("editing",this.data.editing)},delSelected(){if(this.selected.length){if(this.sendMessage("delete",this.value),this.singleMode)this.rows.splice(this.value,1);else{let e=this.value;e.sort((function(e,t){return t-e}));for(let t of e)this.rows.splice(t,1)}this.selected=[]}else d.Zp.error("Rows are not selected!")}},watch:{selected(e){const t=this.data;te(this.updated,this.selected)||(this.sendMessage("changed",this.value),this.updated=this.selected),t.show&&(this.showSelected(),t.show=!1)},search(e){this.data.id&&this.sendMessage("search",e)}},computed:{fullname(){return`${this.data.name}@${this.pdata.name}`},redit(){return this.data.editing&&this.selected.length?this.selected[0].iiid:null},editable(){return 0!=this.data["edit"]},value(){let e=this.selected.map((e=>this.rows.findIndex((t=>t?.iiid===e.iiid))));return-1!=e.indexOf(-1)&&console.error("selected row in a table did not found!"),this.singleMode?1==e.length?e[0]:null:e},name(){return"_"==this.data.name?"":this.data.name},headers(){let e=this.data;return e.headers.filter((e=>!e.startsWith(ae)))},columns(){let e=!this.data.id;return this.headers.map((t=>({name:t,label:t,align:"left",sortable:e,field:t})))}},props:{data:Object,pdata:Object,styleSize:String}});var ne=a(8098),oe=a(6384),re=a(7410),de=a(9270),ce=a(4488),ue=a(7722),he=a(5262),pe=a(460),me=a(9183);const ge=(0,u.A)(se,[["render",G]]),fe=ge;y()(se,"components",{QTable:ne.A,QBtn:oe.A,QTooltip:re.A,QInput:de.A,QIcon:m.A,QTr:ce.A,QTh:ue.A,QTd:he.A,QCheckbox:pe.A,QSelect:me.A});const ye=["innerHTML"];function be(e,t,a,s,n,o){return(0,l.uX)(),(0,l.CE)("div",{ref:"htmlContainer",innerHTML:a.data.value,onClick:t[0]||(t[0]=(...e)=>s.handleClick&&s.handleClick(...e)),style:(0,i.Tr)(s.styleObject)},null,12,ye)}const ke={props:{pdata:{type:Object,required:!0},data:{type:Object,required:!0},style:{type:[String,Object,Array],default:""}},setup(e){const t=(0,B.KR)(null),a=t=>{if(e.data.changed){const a=t.target,l={tagName:a.tagName,id:a.id,classList:[...a.classList],attributes:{},value:a.value||null};Array.from(a.attributes).forEach((e=>{l.attributes[e.name]=e.value})),(0,d.tN)([e.pdata["name"],e.data["name"],"changed",{type:t.type,target:l}])}},i=["click","mouseover","mouseout","change","focus","blur","submit","input","keydown","keyup"],s=()=>{t.value&&i.forEach((e=>{t.value.addEventListener(e,a)}))},n=()=>{t.value&&i.forEach((e=>{t.value.removeEventListener(e,a)}))};(0,l.sV)((()=>{s()})),(0,l.xo)((()=>{n()}));const o=(0,l.EW)((()=>e.style));return{htmlContainer:t,handleClick:a,styleObject:o}}},ve=(0,u.A)(ke,[["render",be]]),we=ve,Ae=(0,l.$V)((()=>a.e(72).then(a.bind(a,72)))),Ce=(0,l.$V)((()=>Promise.all([a.e(121),a.e(260)]).then(a.bind(a,4260))));let xe={right:"4px",borderRadius:"7px",backgroundColor:"#027be3",width:"4px",opacity:.75},_e={right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"8px",opacity:.2},qe=0;function Se(e){let t=new FormData;t.append("image",e);let a=new XMLHttpRequest;a.open("POST",d.FP,!0),a.onload=function(){200===this.status?console.log(this.response):console.error(a)},a.send(t)}const Xe=(0,l.pM)({name:"element",components:{utable:fe,asyncSgraph:Ae,asyncLinechart:Ce,htmlcomponent:we},setup(){const e=(0,B.KR)(qe);qe++;const t=()=>{e.value=qe,qe++};return{forceUpdate:t,key:e}},methods:{log(e){console.log(e)},showSelected(){if("tree"==this.type||"list"==this.type){let e=this.value;e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{if(this.$refs.tree){let t=this.$refs.tree.$el,a=this.$refs.scroller.$el;for(let l of t.getElementsByTagName("div"))if(l.innerHTML==e){const{bottom:e,height:t,top:i}=l.getBoundingClientRect();if(i){const l=a.getBoundingClientRect();(i<=l.top?l.top-i<=t:e-l.bottom<=t)||this.$refs.scroller.setScrollPosition("vertical",i-l.top);break}}}}))}))}},onAdded(e){0!==e.length&&(0!==this.fileArr.length?(this.$refs.uploaderRef.removeFile(this.fileArr[0]),this.fileArr.splice(0,1,e[0])):this.fileArr.push(e[0]))},sendMessage(e,t){(0,d.tN)([this.pdata["name"],this.data["name"],e,t])},pressedEnter(){"update"in this.data&&this.sendMessage("update",this.value)},updateDom(e){let t=e.files.length;t&&this.sendMessage("changed",e.xhr.responseText)},sendValue(){
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! add emit close      
this.sendMessage("changed",this.value)},switchValue(){this.value=!this.value},setValue(e){this.value=e},focus_position(){if(this.data.focus&&this.$refs.inputRef){let e=this.$refs.inputRef;try{e.focus()}catch(e){}"text"!=this.data.type&&(e=e.$el.querySelector("input")),"x"in this.data&&-1!=this.data.x&&e.querySelector&&"number"!=this.data.type&&e.setSelectionRange(this.data.x,this.data.x)}},complete(e,t,a){(0,d.Jk)(this,e,(e=>t((()=>{this.options=e}))))},lens(){d.Zp.lens(this.data)},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.createCameraElement())},createCameraElement(){this.isLoading=!0;const e=window.constraints={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(e).then((e=>{this.isLoading=!1,this.$refs.camera.srcObject=e})).catch((e=>{this.isLoading=!1,alert("May the browser didn't support or there are some errors.")}))},stopCameraStream(){let e=this.$refs.camera.srcObject.getTracks();e.forEach((e=>{e.stop()}))},takePhoto(){if(!this.isPhotoTaken){this.isShotPhoto=!0;const e=50;setTimeout((()=>{this.isShotPhoto=!1}),e)}this.isPhotoTaken=!this.isPhotoTaken;const e=this.$refs.canvas.getContext("2d");e.drawImage(this.$refs.camera,0,0,450,337.5)},downloadImage(){document.getElementById("downloadPhoto"),document.getElementById("photoTaken").toBlob(Se,"image/jpeg")},rect(){let e="clientHeight"in this.$el?this.$el:this.$el.nextElementSibling;return e.getBoundingClientRect()},geom(){let e=this.type,t=this.$el;t="tree"==e||"list"==e?t.querySelector(".scroll"):"clientHeight"in t?t:t.nextElementSibling,t||(t=this.$el.previousElementSibling,t="clientHeight"in t?t:t.nextElementSibling);const a="text"==e||"graph"==e||"chart"==e?t:t.querySelector("table"==e?".scroll":".q-tree"),l=t.getBoundingClientRect();return{el:t,inner:a,left:l.left,right:l.right,top:l.top,bottom:l.bottom,scrollHeight:a.scrollHeight,scrollWidth:a.scrollWidth}}},updated(){d.Yt[this.fullname]=this,this.showSelected(),this.focus_position(),d.Rl&&console.log("updated",this.fullname)},mounted(){let e=this.data;d.Yt[this.fullname]=this,e.id&&"table"==e.type&&!e.filter&&(this.update=e.update),this.focus_position(),this.showSelected(),d.Rl&&console.log("mounted",this.fullname)},data(){return{Dark:ee.A,value:this.data.value,styleSize:d.sn?(0,d.S4)(this):null,has_recalc:!0,host_path:d.FP,options:[],expandedKeys:[],thumbStyle:xe,barStyle:_e,updated:"#027be3sds",isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,link:"#",fileArr:[]}},computed:{button_style(){return this.data.width?`width:${this.data.width}px`:""},elemSize(){let e="";return this.data.width&&(e=`width:${this.data.width}px`),this.data.height&&(""!=e&&(e+="; "),e+=`height:${this.data.height}px`),""==e?this.styleSize:e},parent_name(){return this.pdata?this.pdata.name:null},name(){return this.data.name},fullname(){return`${this.data.name}@${this.pdata.name}`},showname(){let e=this.data.name;return e&&"_"!=e[0]},name2show(){let e=this.data.name;return e&&"_"!=e[0]?e:""},nameLabel(){return this.data.label?this.data.label:"_"!=this.data.name[0]?this.data.name:""},text(){return this.data.text},expanding(){return d.MP.includes(this.type)},expanding_width(){return!this.data.width&&(this.expanding&&"list"!=this.type)},expanding_height(){return!this.data.height&&this.expanding},selection(){return this.data.selection},icon(){return this.data.icon},type(){return this.data.type},treeNodes(){var e=[];if("list"==this.type)return this.data.options.map((e=>({label:e,children:[]})));var t={};for(const[i,s]of Object.entries(this.data.options)){var a=t[i];if(a||(a={label:i,children:[]},t[i]=a),s){var l=t[s];l||(l={label:s,children:[]},t[s]=l),l.children.push(a)}else e.push(a)}return e}},props:{data:{type:Object,required:!0},pdata:{type:Object,required:!0}},watch:{value(e,t){"tree"!=this.type&&"list"!=this.type||(this.data.options[e]==t&&this.expandedKeys.indexOf(t)<0&&this.expandedKeys.push(t),this.showSelected()),e!==this.updated&&(d.Rl&&console.log("value changed",e,t),this.sendValue(),this.updated=e)},selection(e){d.Rl&&console.log("selection changed",e,this.$refs.inputRef),Array.isArray(e)||(e=[0,0]);let t=this.$refs.inputRef.$el;t.focus_position();let a=t.getElementsByTagName("textarea");0==a.length&&(a=t.getElementsByTagName("input")),a[0].setSelectionRange(e[0],e[1])},data(e,t){d.Rl&&console.log("data update",this.fullname,t.name),this.styleSize||(this.styleSize=null),d.Zp.screen.reload&&"tree"==this.type&&this.$refs.tree&&this.$refs.tree.expandAll();let a=this.data;this.value=a.value,this.updated=this.value,d.Yt[this.fullname]=this}}});var We=a(2665),$e=a(6908),Ee=a(3954),Qe=a(1444),Fe=a(6939),Re=a(8958),De=a(7567),Le=a(386),Me=a(1298),Ie=a(2157);const Ke=(0,u.A)(Xe,[["render",j],["__scopeId","data-v-6398f67f"]]),Te=Ke;y()(Xe,"components",{QImg:We.A,QIcon:m.A,QSelect:me.A,QCheckbox:pe.A,QToggle:$e.A,QBadge:Ee.A,QSlider:Qe.A,QBtn:oe.A,QBtnToggle:Fe.A,QInput:de.A,QScrollArea:Re.A,QTree:De.A,QSeparator:Le.A,QUploader:Me.A,QTooltip:re.A,QSpinnerIos:Ie.A});const Ve=(0,l.pM)({name:"block",components:{element:Te},data(){return{Dark:ee.A,styleSize:null,thumbStyle:{right:"4px",borderRadius:"7px",backgroundColor:"#027be3",width:"4px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"8px",opacity:.2}}},methods:{log(){console.log(Object.keys(d.NP).length,this.name,this.$el.getBoundingClientRect())},close(){(0,d.tN)([this.data.name,null,"close",!0])},geom(){let e="clientHeight"in this.$el?this.$el:this.$el.nextElementSibling,t=e.querySelector(".q-scrollarea");t||(t=e);const a=t.getBoundingClientRect();return{el:e,inner:t,left:a.left,right:a.right,top:a.top,bottom:a.bottom,scrollHeight:window.innerHeight,scrollWidth:window.innerWidth}},free_right_delta4(e,t){for(let a of this.data.value)if(Array.isArray(a)){for(let l of a)if(l==e.data){let l=a[a.length-1];return l==e.data?t:d.fn.includes(l.type)?0:d.Yt[`${l.name}@${this.name}`].$el.getBoundingClientRect().right}}else if(a===e)return t;return 0}},mounted(){d.NP[this.data.name]=this,(this.expanding||this.data.width)&&(d.Yt[this.fullname]=this)},computed:{name(){return this.data.name},fullname(){return`${this.data.scroll?"_scroll":"_space"}@${this.name}`},icon(){return this.data.icon},type(){return this.data.type},expanding(){return this.data.scroll&&!this.data.width},expanding_width(){return this.expanding&&!this.data.width},name_elements(){if(this.expanding)return[this.fullname];let e=[];for(let t of this.data.value)if(Array.isArray(t))for(let a of t)e.push(`${a.name}@${this.name}`);else e.push(`${t.name}@${this.name}`);return e},hlevelements(){if(this.expanding)return[[d.Yt[this.fullname]]];let e=[];for(let t of this.data.value)if(Array.isArray(t)){let a=t.map((e=>d.Yt[`${e.name}@${this.name}`])).filter((e=>e.expanding));a.length&&e.push(a)}else{let a=d.Yt[`${t.name}@${this.name}`];a.expanding&&e.push([a])}return e},only_fixed_elems(){if(this.expanding)return!1;for(let e of this.data.value)if(Array.isArray(e)){for(let t of e)if(d.MP.includes(t.type))return!1}else if(d.MP.includes(e.type))return!1;return!0},expanding_height(){return!this.data.height&&(this.expanding||this.only_fixed_elems)},tops(){let e=this.data.value;return e.length?Array.isArray(e[0])?e[0]:[e[0]]:[]}},props:{data:{type:Object,required:!0}},watch:{data(e){d.Rl&&console.log("data update",this.name),d.NP[this.name]=this,this.expanding&&(d.Yt[this.fullname]=this)}}});var ze=a(3316),Oe=a(3676);const Pe=(0,u.A)(Ve,[["render",$],["__scopeId","data-v-575181f9"]]),Ue=Pe;function je(){let e=d.sn&&d.Yt.size==d.JB.size;if(e)for(let[t,a]of Object.entries(d.Yt))if(!d.JB[t]){e=!1;break}e||((0,d.PP)(document.documentElement.scrollWidth>window.innerWidth),(0,l.dY)((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{d.Zp.visible(!0)}))}))})))}y()(Ve,"components",{QCard:ze.A,QIcon:m.A,QSpace:Oe.A,QBtn:oe.A,QTooltip:re.A,QScrollArea:Re.A});const Be=(0,l.pM)({name:"zone",components:{block:Ue},props:{data:Object},updated(e){(0,l.dY)((()=>{requestAnimationFrame((()=>{requestAnimationFrame(je)}))}))}}),Ne=(0,u.A)(Be,[["render",C]]),He=Ne;function Ye(e,t,a,s,n,o){const r=(0,l.g2)("block"),d=(0,l.g2)("q-card"),c=(0,l.g2)("q-dialog");return(0,l.uX)(),(0,l.Wv)(c,{ref:"dialog",onHide:o.onDialogHide,onKeyup:(0,E.jR)(o.pressedEnter,["enter"])},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"q-dialog-plugin q-pa-md items-start q-gutter-md",bordered:"",style:(0,i.Tr)(a.data.internal?"width: 800px; max-width: 80vw;":"")},{default:(0,l.k6)((()=>[a.data?((0,l.uX)(),(0,l.Wv)(r,{key:0,data:a.data},null,8,["data"])):(0,l.Q3)("",!0)])),_:1},8,["style"])])),_:1},8,["onHide","onKeyup"])}const Je={props:{data:Object,commands:Array},components:{block:Ue},emits:["ok","hide"],data(){return{closed:!1}},methods:{show(){this.$refs.dialog.show(),d.Zp.dialog=this},message4(e){return[this.data["name"],null,"changed",e]},sendMessage(e){this.data.internal||(0,d.tN)(this.message4(e)),this.closed=!0,this.hide()},hide(){this.$refs.dialog.hide(),d.Zp.dialog=null},onDialogHide(){this.$emit("hide"),this.closed||this.data.internal||(0,d.tN)(this.message4(null))},pressedEnter(){this.sendMessage(this.commands[0])},onOKClick(){this.$emit("ok"),this.hide()},onCancelClick(){this.hide()}}};var Ze=a(558);const Ge=(0,u.A)(Je,[["render",Ye]]),et=Ge;y()(Je,"components",{QDialog:Ze.A,QCard:ze.A,QItemLabel:g.A,QSpace:Oe.A,QBtn:oe.A});var tt=a(8993);let at="theme";function lt(){return screen.orientation&&!screen.orientation.type.includes("landscape")}try{ee.A.set(tt.A.getItem(at))}catch(e){}let it=null,st=["complete","append","get"],nt=null;const ot=(0,l.pM)({name:"MainLayout",data(){return{leftDrawerOpen:!1,Dark:ee.A,menu:[],tab:"",showRotationOverlay:lt(),tooldata:{name:"toolbar"},localServer:!0,statusConnect:!0,screen:{blocks:[],toolbar:[]},visibility:!0,designCycle:0,shiftKey:!1,isListening:!1,voice_button:!0,voice_str_length:0,dialog:null}},components:{menubar:k,zone:He,element:Te},created(){(0,d.KG)(this)},unmounted(){window.removeEventListener("resize",this.onResize),nt&&nt.stop()},computed:{left_toolbar(){return this.screen.toolbar.filter((e=>!e.right))},right_toolbar(){return this.screen.toolbar.filter((e=>e.right))}},methods:{toggleListening(){if(this.isListening=!this.isListening,this.isListening){if(!nt){const e=window.webkitSpeechRecognition;e?(nt=new e,nt.lang=this.screen.lang||"en-US",nt.continuous=!0,nt.interimResults=!0,nt.onresult=e=>{let t="";for(const a of e.results)a.isFinal&&(t+=a[0].transcript);let a=t.substring(this.voice_str_length).trim();this.voice_str_length=t.length,a&&(0,d.tN)(["voice",null,"changed",a])},nt.onerror=e=>{this.voice_str_length=0},nt.onend=()=>{this.isListening&&nt.start()}):(this.error("Speech Recognition not supported by this browser."),this.voice_button=!1)}nt.start()}else nt.stop();(0,d.tN)(["voice",null,"listen",this.isListening])},switchTheme(){ee.A.set(!ee.A.isActive),tt.A.set(at,ee.A.isActive)},toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},tabclick(e){(0,d.tN)(["root",null,"changed",e])},visible(e){this.visibility!=e&&(this.visibility=e),this.$refs.page.$el.style.visibility=e?"":"hidden"},handleKeyDown(e){"Shift"==e.key&&(this.shiftKey=!0)},handleKeyUp(e){"Shift"==e.key&&(this.shiftKey=!1)},onResize(e){d.Rl&&console.log(`window has been resized w = ${window.innerWidth}, h=${window.innerHeight}`),this.designCycle=0,(0,d.DK)()},lens(e){let t={title:"Photo lens",message:e.text,cancel:!0,persistent:!0,component:et},{height:a,...l}=e;l.width=750;let i={name:`Picture lens of ${e.name}`,value:[[],l],internal:!0};t.componentProps={data:i,commands:["Close"]},this.dialog=this.$q.dialog(t)},notify(e,t){let a=t,l={message:e,type:t,position:"top",icon:a};"progress"==t?null==it?(l={group:!1,timeout:0,spinner:!0,type:"info",message:e||"Progress..",position:"top",color:"secondary"},it=this.$q.notify(l)):null==e?(it(),it=null):(l={caption:e},it(l)):("error"==t&&l.type,this.$q.notify(l))},error(e){this.notify(e,"error")},info(e){this.notify(e,"info")},reconnect(){this.statusConnect=!1,(0,d.KG)(this)},processMessage(e){if("screen"==e.type){if(this.screen.name!=e.name)(0,d.RX)(!1),(0,d.q1)(),this.visible(!1),this.voice_button=e.voice;else if(e.reload){this.designCycle=0,this.visible(!1);for(let e of Object.values(d.Yt))e.has_recalc=!0,e.styleSize=null;(0,d.Q$)()}this.screen=e,this.menu=e.menu.map((e=>({name:e[0],icon:e[1],order:e[2]}))),this.tab=this.screen.name}else if("dialog"==e.type){let t={title:e.name,message:e.text,cancel:!0,persistent:!0};t.component=et,t.componentProps={data:e,commands:e.commands},this.dialog=this.$q.dialog(t)}else if(st.includes(e.type))(0,d.rn)(e);else{if("action"==e.type)return this.dialog&&"close"==e.value?(this.dialog.data.internal=!0,this.dialog.hide(),void(this.dialog=null)):void(0,d.QJ)(e);let t=e.updates&&e.updates.length;t&&(0,d.RF)(e.updates);let a=!1;["error","progress","warning","info"].includes(e.type)&&(this.notify(e.value,e.type),a=!0),a||t||(this.error("Invalid data came from the server! Look the console."),console.log(`Invalid data came from the server! ${e}`))}this.closeProgress(e)},closeProgress(e){!it||e&&"progress"==e.type||this.notify(null,"progress")}},mounted(){window.addEventListener("resize",this.onResize);const e=new ResizeObserver((e=>{let t=document.documentElement.scrollWidth>window.innerWidth||document.documentElement.scrollHeight>window.innerHeight;t&&(0,d.Q$)(!1)}));let t=this.$refs.page.$el;if(e.observe(t),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),screen.orientation){let e=this;window.addEventListener("orientationchange",(()=>{e.showRotationOverlay=lt()}))}},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}});var rt=a(2008),dt=a(8416),ct=a(6914),ut=a(2980),ht=a(327),pt=a(5205),mt=a(7716);const gt=(0,u.A)(ot,[["render",o],["__scopeId","data-v-6f9ece5f"]]),ft=gt;y()(ot,"components",{QLayout:rt.A,QHeader:dt.A,QToolbar:ct.A,QBtn:oe.A,QItemLabel:g.A,QTabs:ut.A,QTab:ht.A,QSpace:Oe.A,QTooltip:re.A,QPageContainer:pt.A,QPage:mt.A,QCard:ze.A,QIcon:m.A})}}]);