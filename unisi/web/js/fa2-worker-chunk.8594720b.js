(globalThis["webpackChunkuniqua"]=globalThis["webpackChunkuniqua"]||[]).push([[325],{6168:t=>{t.exports=function(){var t,e,r={};(function(){var t=0,e=1,i=2,a=3,o=4,s=5,n=6,h=7,u=8,d=9,g=0,p=1,l=2,f=0,w=1,M=2,c=3,k=4,b=5,m=6,v=7,y=8,q=3,A=10,D=3,G=9,E=10;r.exports=function(r,R,L){var U,W,x,F,T,H,I,z,C,O,S,j,B,P,J,K,N,Q,V,X,Y,Z,$,_=R.length,tt=L.length,et=r.adjustSizes,rt=r.barnesHutTheta*r.barnesHutTheta,it=[];for(x=0;x<_;x+=A)R[x+o]=R[x+i],R[x+s]=R[x+a],R[x+i]=0,R[x+a]=0;if(r.outboundAttractionDistribution){for(S=0,x=0;x<_;x+=A)S+=R[x+n];S/=_/A}if(r.barnesHutOptimize){var at,ot,st,nt=1/0,ht=-1/0,ut=1/0,dt=-1/0;for(x=0;x<_;x+=A)nt=Math.min(nt,R[x+t]),ht=Math.max(ht,R[x+t]),ut=Math.min(ut,R[x+e]),dt=Math.max(dt,R[x+e]);var gt=ht-nt,pt=dt-ut;for(gt>pt?(ut-=(gt-pt)/2,dt=ut+gt):(nt-=(pt-gt)/2,ht=nt+pt),it[0+f]=-1,it[0+w]=(nt+ht)/2,it[0+M]=(ut+dt)/2,it[0+c]=Math.max(ht-nt,dt-ut),it[0+k]=-1,it[0+b]=-1,it[0+m]=0,it[0+v]=0,it[0+y]=0,U=1,x=0;x<_;x+=A){W=0,st=q;while(1){if(!(it[W+b]>=0)){if(it[W+f]<0){it[W+f]=x;break}if(it[W+b]=U*G,z=it[W+c]/2,C=it[W+b],it[C+f]=-1,it[C+w]=it[W+w]-z,it[C+M]=it[W+M]-z,it[C+c]=z,it[C+k]=C+G,it[C+b]=-1,it[C+m]=0,it[C+v]=0,it[C+y]=0,C+=G,it[C+f]=-1,it[C+w]=it[W+w]-z,it[C+M]=it[W+M]+z,it[C+c]=z,it[C+k]=C+G,it[C+b]=-1,it[C+m]=0,it[C+v]=0,it[C+y]=0,C+=G,it[C+f]=-1,it[C+w]=it[W+w]+z,it[C+M]=it[W+M]-z,it[C+c]=z,it[C+k]=C+G,it[C+b]=-1,it[C+m]=0,it[C+v]=0,it[C+y]=0,C+=G,it[C+f]=-1,it[C+w]=it[W+w]+z,it[C+M]=it[W+M]+z,it[C+c]=z,it[C+k]=it[W+k],it[C+b]=-1,it[C+m]=0,it[C+v]=0,it[C+y]=0,U+=4,at=R[it[W+f]+t]<it[W+w]?R[it[W+f]+e]<it[W+M]?it[W+b]:it[W+b]+G:R[it[W+f]+e]<it[W+M]?it[W+b]+2*G:it[W+b]+3*G,it[W+m]=R[it[W+f]+n],it[W+v]=R[it[W+f]+t],it[W+y]=R[it[W+f]+e],it[at+f]=it[W+f],it[W+f]=-1,ot=R[x+t]<it[W+w]?R[x+e]<it[W+M]?it[W+b]:it[W+b]+G:R[x+e]<it[W+M]?it[W+b]+2*G:it[W+b]+3*G,at===ot){if(st--){W=at;continue}st=q;break}it[ot+f]=x;break}at=R[x+t]<it[W+w]?R[x+e]<it[W+M]?it[W+b]:it[W+b]+G:R[x+e]<it[W+M]?it[W+b]+2*G:it[W+b]+3*G,it[W+v]=(it[W+v]*it[W+m]+R[x+t]*R[x+n])/(it[W+m]+R[x+n]),it[W+y]=(it[W+y]*it[W+m]+R[x+e]*R[x+n])/(it[W+m]+R[x+n]),it[W+m]+=R[x+n],W=at}}}if(r.barnesHutOptimize)for(j=r.scalingRatio,x=0;x<_;x+=A){W=0;while(1)if(it[W+b]>=0){if(K=Math.pow(R[x+t]-it[W+v],2)+Math.pow(R[x+e]-it[W+y],2),O=it[W+c],4*O*O/K<rt){if(B=R[x+t]-it[W+v],P=R[x+e]-it[W+y],!0===et?K>0?(N=j*R[x+n]*it[W+m]/K,R[x+i]+=B*N,R[x+a]+=P*N):K<0&&(N=-j*R[x+n]*it[W+m]/Math.sqrt(K),R[x+i]+=B*N,R[x+a]+=P*N):K>0&&(N=j*R[x+n]*it[W+m]/K,R[x+i]+=B*N,R[x+a]+=P*N),W=it[W+k],W<0)break;continue}W=it[W+b]}else if(H=it[W+f],H>=0&&H!==x&&(B=R[x+t]-R[H+t],P=R[x+e]-R[H+e],K=B*B+P*P,!0===et?K>0?(N=j*R[x+n]*R[H+n]/K,R[x+i]+=B*N,R[x+a]+=P*N):K<0&&(N=-j*R[x+n]*R[H+n]/Math.sqrt(K),R[x+i]+=B*N,R[x+a]+=P*N):K>0&&(N=j*R[x+n]*R[H+n]/K,R[x+i]+=B*N,R[x+a]+=P*N)),W=it[W+k],W<0)break}else for(j=r.scalingRatio,F=0;F<_;F+=A)for(T=0;T<F;T+=A)B=R[F+t]-R[T+t],P=R[F+e]-R[T+e],!0===et?(K=Math.sqrt(B*B+P*P)-R[F+u]-R[T+u],K>0?(N=j*R[F+n]*R[T+n]/K/K,R[F+i]+=B*N,R[F+a]+=P*N,R[T+i]-=B*N,R[T+a]-=P*N):K<0&&(N=100*j*R[F+n]*R[T+n],R[F+i]+=B*N,R[F+a]+=P*N,R[T+i]-=B*N,R[T+a]-=P*N)):(K=Math.sqrt(B*B+P*P),K>0&&(N=j*R[F+n]*R[T+n]/K/K,R[F+i]+=B*N,R[F+a]+=P*N,R[T+i]-=B*N,R[T+a]-=P*N));for(C=r.gravity/r.scalingRatio,j=r.scalingRatio,x=0;x<_;x+=A)N=0,B=R[x+t],P=R[x+e],K=Math.sqrt(Math.pow(B,2)+Math.pow(P,2)),r.strongGravityMode?K>0&&(N=j*R[x+n]*C):K>0&&(N=j*R[x+n]*C/K),R[x+i]-=B*N,R[x+a]-=P*N;for(j=1*(r.outboundAttractionDistribution?S:1),I=0;I<tt;I+=D)F=L[I+g],T=L[I+p],z=L[I+l],J=Math.pow(z,r.edgeWeightInfluence),B=R[F+t]-R[T+t],P=R[F+e]-R[T+e],!0===et?(K=Math.sqrt(B*B+P*P)-R[F+u]-R[T+u],r.linLogMode?r.outboundAttractionDistribution?K>0&&(N=-j*J*Math.log(1+K)/K/R[F+n]):K>0&&(N=-j*J*Math.log(1+K)/K):r.outboundAttractionDistribution?K>0&&(N=-j*J/R[F+n]):K>0&&(N=-j*J)):(K=Math.sqrt(Math.pow(B,2)+Math.pow(P,2)),r.linLogMode?r.outboundAttractionDistribution?K>0&&(N=-j*J*Math.log(1+K)/K/R[F+n]):K>0&&(N=-j*J*Math.log(1+K)/K):r.outboundAttractionDistribution?(K=1,N=-j*J/R[F+n]):(K=1,N=-j*J)),K>0&&(R[F+i]+=B*N,R[F+a]+=P*N,R[T+i]-=B*N,R[T+a]-=P*N);if(!0===et)for(x=0;x<_;x+=A)1!==R[x+d]&&(Q=Math.sqrt(Math.pow(R[x+i],2)+Math.pow(R[x+a],2)),Q>E&&(R[x+i]=R[x+i]*E/Q,R[x+a]=R[x+a]*E/Q),V=R[x+n]*Math.sqrt((R[x+o]-R[x+i])*(R[x+o]-R[x+i])+(R[x+s]-R[x+a])*(R[x+s]-R[x+a])),X=Math.sqrt((R[x+o]+R[x+i])*(R[x+o]+R[x+i])+(R[x+s]+R[x+a])*(R[x+s]+R[x+a]))/2,Y=.1*Math.log(1+X)/(1+Math.sqrt(V)),Z=R[x+t]+R[x+i]*(Y/r.slowDown),R[x+t]=Z,$=R[x+e]+R[x+a]*(Y/r.slowDown),R[x+e]=$);else for(x=0;x<_;x+=A)1!==R[x+d]&&(V=R[x+n]*Math.sqrt((R[x+o]-R[x+i])*(R[x+o]-R[x+i])+(R[x+s]-R[x+a])*(R[x+s]-R[x+a])),X=Math.sqrt((R[x+o]+R[x+i])*(R[x+o]+R[x+i])+(R[x+s]+R[x+a])*(R[x+s]+R[x+a]))/2,Y=R[x+h]*Math.log(1+X)/(1+Math.sqrt(V)),R[x+h]=Math.min(1,Math.sqrt(Y*(Math.pow(R[x+i],2)+Math.pow(R[x+a],2))/(1+Math.sqrt(V)))),Z=R[x+t]+R[x+i]*(Y/r.slowDown),R[x+t]=Z,$=R[x+e]+R[x+a]*(Y/r.slowDown),R[x+e]=$);return{}}})();var i=r.exports;self.addEventListener("message",(function(r){var a=r.data;t=new Float32Array(a.nodes),a.edges&&(e=new Float32Array(a.edges)),i(a.settings,t,e),self.postMessage({nodes:t.buffer},[t.buffer])}))}},3668:(t,e,r)=>{var i=r(6168),a=r(9235),o=r(2936).Fd,s=r(8085),n=r(9692);function h(t,e){if(e=e||{},!a(t))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var r=o("getEdgeWeight"in e?e.getEdgeWeight:"weight").fromEntry,i=s.assign({},n,e.settings),h=s.validateSettings(i);if(h)throw new Error("graphology-layout-forceatlas2/worker: "+h.message);this.worker=null,this.graph=t,this.settings=i,this.getEdgeWeight=r,this.matrices=null,this.running=!1,this.killed=!1,this.outputReducer="function"===typeof e.outputReducer?e.outputReducer:null,this.handleMessage=this.handleMessage.bind(this);var u=void 0,d=this;this.handleGraphUpdate=function(){d.worker&&d.worker.terminate(),u&&clearTimeout(u),u=setTimeout((function(){u=void 0,d.spawnWorker()}),0)},t.on("nodeAdded",this.handleGraphUpdate),t.on("edgeAdded",this.handleGraphUpdate),t.on("nodeDropped",this.handleGraphUpdate),t.on("edgeDropped",this.handleGraphUpdate),this.spawnWorker()}h.prototype.isRunning=function(){return this.running},h.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=s.createWorker(i),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},h.prototype.handleMessage=function(t){if(this.running){var e=new Float32Array(t.data.nodes);s.assignLayoutChanges(this.graph,e,this.outputReducer),this.outputReducer&&s.readGraphPositions(this.graph,e),this.matrices.nodes=e,this.askForIterations()}},h.prototype.askForIterations=function(t){var e=this.matrices,r={settings:this.settings,nodes:e.nodes.buffer},i=[e.nodes.buffer];return t&&(r.edges=e.edges.buffer,i.push(e.edges.buffer)),this.worker.postMessage(r,i),this},h.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running||(this.matrices=s.graphToByteArrays(this.graph,this.getEdgeWeight),this.running=!0,this.askForIterations(!0)),this},h.prototype.stop=function(){return this.running=!1,this},h.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleGraphUpdate),this.graph.removeListener("edgeAdded",this.handleGraphUpdate),this.graph.removeListener("nodeDropped",this.handleGraphUpdate),this.graph.removeListener("edgeDropped",this.handleGraphUpdate)},t.exports=h}}]);